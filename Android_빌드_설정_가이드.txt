================================================================================
CodeLog - Android ë¹Œë“œ ê³µì‹ ì„¤ì • ê°€ì´ë“œ (Capacitor + Android Studio)
================================================================================

ðŸ“… ìž‘ì„±ì¼: 2025-10-13
ðŸŽ¯ ëª©ì : Android Studio ê³µì‹ ë°©ë²•ìœ¼ë¡œ APK/AAB ë¹Œë“œ í™˜ê²½ êµ¬ì„±
âœ… ê°œì„  ì‚¬í•­: ê¸°ì¡´ ìˆ˜ë™ ë°©ì‹ â†’ Capacitor ê³µì‹ ë°©ì‹

================================================================================
ëª©ì°¨
================================================================================
1. ê°œìš” ë° ë³€ê²½ ì‚¬í•­
2. ì„œë²„ í™˜ê²½ ìš”êµ¬ì‚¬í•­
3. í•„ìˆ˜ ì†Œí”„íŠ¸ì›¨ì–´ ì„¤ì¹˜
4. Capacitor ì„¤ì •
5. Android SDK ì„¤ì •
6. ë¹Œë“œ í”„ë¡œì„¸ìŠ¤
7. ë¬¸ì œ í•´ê²°
8. ë¹ ë¥¸ ì°¸ì¡°

================================================================================
1. ê°œìš” ë° ë³€ê²½ ì‚¬í•­
================================================================================

1.1. ë³€ê²½ ì‚¬í•­
--------------
ì´ì „ ë°©ì‹ (ìˆ˜ë™):
- ì§ì ‘ Gradle íŒŒì¼ ìƒì„±
- ìˆ˜ë™ìœ¼ë¡œ Android í”„ë¡œì íŠ¸ êµ¬ì¡° ìƒì„±
- ë¶ˆì•ˆì •í•œ ë¹Œë“œ í”„ë¡œì„¸ìŠ¤

ìƒˆë¡œìš´ ë°©ì‹ (Capacitor):
- Ionic Capacitor ê³µì‹ ë„êµ¬ ì‚¬ìš©
- Android Studioì™€ ì™„ë²½ í†µí•©
- ì•ˆì •ì ì´ê³  í‘œì¤€í™”ëœ ë¹Œë“œ
- ìœ ì§€ë³´ìˆ˜ ìš©ì´

1.2. Capacitorëž€?
--------------
- Ionic íŒ€ì´ ê°œë°œí•œ í¬ë¡œìŠ¤ í”Œëž«í¼ ë„¤ì´í‹°ë¸Œ ëŸ°íƒ€ìž„
- ì›¹ ì•±ì„ Android/iOS ë„¤ì´í‹°ë¸Œ ì•±ìœ¼ë¡œ ë³€í™˜
- Cordovaì˜ í˜„ëŒ€ì  ëŒ€ì²´ì œ
- Android Studio/Xcodeì™€ ì™„ë²½ í†µí•©
- ê³µì‹ ë¬¸ì„œ: https://capacitorjs.com

1.3. íŒŒì¼ ë³€ê²½ ì‚¬í•­
--------------
âœ… ìƒì„±ëœ íŒŒì¼:
- backend/src/services/androidBuilderCapacitor.js (ìƒˆ ë¹Œë”)

âœ… ìˆ˜ì •ëœ íŒŒì¼:
- backend/src/controllers/buildController.js (ìƒˆ ë¹Œë” ì‚¬ìš©)
- frontend/src/pages/ProjectDetail.jsx (ë‹¤ìš´ë¡œë“œ í•¨ìˆ˜ ê°œì„ )

âŒ ë” ì´ìƒ ì‚¬ìš©í•˜ì§€ ì•ŠëŠ” íŒŒì¼:
- backend/src/services/androidBuilder.js (ë°±ì—…ìš©ìœ¼ë¡œ ë³´ê´€)

================================================================================
2. ì„œë²„ í™˜ê²½ ìš”êµ¬ì‚¬í•­
================================================================================

2.1. ìš´ì˜ ì²´ì œ
--------------
- Ubuntu 20.04 LTS ì´ìƒ (ê¶Œìž¥)
- Ubuntu 22.04 LTS
- Debian 11 ì´ìƒ
- Windows Server 2019+ (ì„ íƒ)

ìµœì†Œ ì‚¬ì–‘:
- CPU: 4 ì½”ì–´ ì´ìƒ (8 ì½”ì–´ ê¶Œìž¥)
- RAM: 8GB ì´ìƒ (16GB ê¶Œìž¥)
- ë””ìŠ¤í¬: 50GB ì´ìƒ ì—¬ìœ  ê³µê°„
- ë„¤íŠ¸ì›Œí¬: ì•ˆì •ì ì¸ ì¸í„°ë„· ì—°ê²°

2.2. ê¶Œìž¥ ì‚¬ì–‘ (EC2 ê¸°ì¤€)
--------------
- t3.xlarge (4 vCPU, 16GB RAM) - ê¶Œìž¥
- t3.large (2 vCPU, 8GB RAM) - ìµœì†Œ
- ìŠ¤í† ë¦¬ì§€: 80GB EBS
- Ubuntu 22.04 LTS AMI

================================================================================
3. í•„ìˆ˜ ì†Œí”„íŠ¸ì›¨ì–´ ì„¤ì¹˜
================================================================================

3.1. Node.js 18+ ì„¤ì¹˜
--------------
# Ubuntu/Debian
curl -fsSL https://deb.nodesource.com/setup_18.x | sudo -E bash -
sudo apt install -y nodejs

# í™•ì¸
node --version  # v18.x.x ì´ìƒ
npm --version   # v9.x.x ì´ìƒ

3.2. Java Development Kit (JDK) 17 ì„¤ì¹˜
--------------
# OpenJDK 17 ì„¤ì¹˜
sudo apt update
sudo apt install -y openjdk-17-jdk

# í™˜ê²½ ë³€ìˆ˜ ì„¤ì •
echo 'export JAVA_HOME=/usr/lib/jvm/java-17-openjdk-amd64' >> ~/.bashrc
echo 'export PATH=$JAVA_HOME/bin:$PATH' >> ~/.bashrc
source ~/.bashrc

# í™•ì¸
java --version

ì¶œë ¥ ì˜ˆì‹œ:
openjdk 17.0.x 2023-xx-xx
OpenJDK Runtime Environment (build 17.0.x+x)
OpenJDK 64-Bit Server VM (build 17.0.x+x, mixed mode, sharing)

3.3. Android SDK ì„¤ì¹˜ (ëª…ë ¹ì¤„ ë„êµ¬)
--------------
# Android SDK ëª…ë ¹ì¤„ ë„êµ¬ ë‹¤ìš´ë¡œë“œ
cd ~
wget https://dl.google.com/android/repository/commandlinetools-linux-9477386_latest.zip

# ì••ì¶• í•´ì œ ë° ì„¤ì¹˜
mkdir -p ~/android-sdk/cmdline-tools
unzip commandlinetools-linux-9477386_latest.zip -d ~/android-sdk/cmdline-tools
mv ~/android-sdk/cmdline-tools/cmdline-tools ~/android-sdk/cmdline-tools/latest

# í™˜ê²½ ë³€ìˆ˜ ì„¤ì •
echo 'export ANDROID_HOME=~/android-sdk' >> ~/.bashrc
echo 'export ANDROID_SDK_ROOT=$ANDROID_HOME' >> ~/.bashrc
echo 'export PATH=$ANDROID_HOME/cmdline-tools/latest/bin:$PATH' >> ~/.bashrc
echo 'export PATH=$ANDROID_HOME/platform-tools:$PATH' >> ~/.bashrc
source ~/.bashrc

# SDK íŒ¨í‚¤ì§€ ì„¤ì¹˜
sdkmanager --update
sdkmanager "platform-tools" "platforms;android-34" "build-tools;34.0.0"

# ë¼ì´ì„ ìŠ¤ ë™ì˜
yes | sdkmanager --licenses

# í™•ì¸
sdkmanager --list_installed

3.4. Gradle ì„¤ì¹˜
--------------
# Gradle 8.x ì„¤ì¹˜
cd ~
wget https://services.gradle.org/distributions/gradle-8.4-bin.zip
sudo mkdir /opt/gradle
sudo unzip -d /opt/gradle gradle-8.4-bin.zip

# í™˜ê²½ ë³€ìˆ˜ ì„¤ì •
echo 'export GRADLE_HOME=/opt/gradle/gradle-8.4' >> ~/.bashrc
echo 'export PATH=$GRADLE_HOME/bin:$PATH' >> ~/.bashrc
source ~/.bashrc

# í™•ì¸
gradle --version

3.5. Capacitor CLI ì„¤ì¹˜ (ì „ì—­)
--------------
sudo npm install -g @capacitor/cli @capacitor/core

# í™•ì¸
npx cap --version

================================================================================
4. Capacitor ì„¤ì •
================================================================================

4.1. í”„ë¡œì íŠ¸ ì˜ì¡´ì„± ì„¤ì¹˜
--------------
# CodeLog ë°±ì—”ë“œë¡œ ì´ë™
cd ~/CodeLog/backend

# Capacitor ê´€ë ¨ íŒ¨í‚¤ì§€ ì¶”ê°€
npm install --save @capacitor/core @capacitor/cli @capacitor/android

4.2. ë¹Œë“œ ë””ë ‰í† ë¦¬ ê¶Œí•œ ì„¤ì •
--------------
# ë¹Œë“œ ë””ë ‰í† ë¦¬ ìƒì„±
mkdir -p ~/CodeLog/backend/android-builds

# ê¶Œí•œ ì„¤ì •
chmod 755 ~/CodeLog/backend/android-builds

4.3. í™˜ê²½ ë³€ìˆ˜ í™•ì¸
--------------
# ëª¨ë“  í™˜ê²½ ë³€ìˆ˜ê°€ ì„¤ì •ë˜ì—ˆëŠ”ì§€ í™•ì¸
echo $JAVA_HOME
echo $ANDROID_HOME
echo $ANDROID_SDK_ROOT
echo $GRADLE_HOME

# ëª¨ë“  ë„êµ¬ê°€ PATHì— ìžˆëŠ”ì§€ í™•ì¸
which java
which gradle
which sdkmanager
which node
which npm

================================================================================
5. Android SDK ì„¤ì •
================================================================================

5.1. í•„ìˆ˜ SDK ì»´í¬ë„ŒíŠ¸ ì„¤ì¹˜
--------------
# Android 13 (API 33) - í˜¸í™˜ì„±
sdkmanager "platforms;android-33" "build-tools;33.0.2"

# Android 14 (API 34) - ìµœì‹ 
sdkmanager "platforms;android-34" "build-tools;34.0.0"

# ì¶”ê°€ ë„êµ¬
sdkmanager "extras;android;m2repository"
sdkmanager "extras;google;m2repository"

5.2. ì—ë®¬ë ˆì´í„° ì„¤ì • (ì„ íƒì‚¬í•­)
--------------
# ì—ë®¬ë ˆì´í„°ë¥¼ ì‚¬ìš©í•˜ë ¤ë©´
sdkmanager "system-images;android-34;google_apis;x86_64"
sdkmanager "emulator"

# ì—ë®¬ë ˆì´í„° ìƒì„±
avdmanager create avd -n test -k "system-images;android-34;google_apis;x86_64"

5.3. ì„œëª… í‚¤ ìƒì„± (ë¦´ë¦¬ì¦ˆ ë¹Œë“œìš©)
--------------
# í‚¤ìŠ¤í† ì–´ ìƒì„±
keytool -genkey -v -keystore ~/CodeLog/release-key.keystore \
  -alias codelog -keyalg RSA -keysize 2048 -validity 10000

# ì •ë³´ ìž…ë ¥ (ì˜ˆì‹œ):
Enter keystore password: [ë¹„ë°€ë²ˆí˜¸ ìž…ë ¥]
Re-enter new password: [ë¹„ë°€ë²ˆí˜¸ ìž¬ìž…ë ¥]
What is your first and last name?
  [CN]: CodeLog
What is the name of your organizational unit?
  [OU]: Development
What is the name of your organization?
  [O]: CodeLog
What is the name of your City or Locality?
  [L]: Seoul
What is the name of your State or Province?
  [ST]: Seoul
What is the two-letter country code for this unit?
  [C]: KR

âš ï¸ ì£¼ì˜: í‚¤ìŠ¤í† ì–´ íŒŒì¼ê³¼ ë¹„ë°€ë²ˆí˜¸ëŠ” ì•ˆì „í•˜ê²Œ ë³´ê´€í•˜ì„¸ìš”!

================================================================================
6. ë¹Œë“œ í”„ë¡œì„¸ìŠ¤
================================================================================

6.1. ë¹Œë“œ í”„ë¡œì„¸ìŠ¤ ì„¤ëª…
--------------
1. ì‚¬ìš©ìžê°€ í”„ë¡ íŠ¸ì—”ë“œì—ì„œ ë¹Œë“œ ìš”ì²­
2. ë°±ì—”ë“œ APIê°€ ìš”ì²­ ìˆ˜ì‹ 
3. buildControllerê°€ buildAndroidApp í•¨ìˆ˜ í˜¸ì¶œ
4. androidBuilderCapacitor.js ì‹¤í–‰:
   a. ë¹Œë“œ ë””ë ‰í† ë¦¬ ìƒì„±
   b. ì›¹ ì•± êµ¬ì¡° ìƒì„± (HTML, CSS, JS)
   c. package.json ìƒì„± ë° Capacitor ì„¤ì¹˜
   d. capacitor.config.json ìƒì„±
   e. npx cap add android (Android í”Œëž«í¼ ì¶”ê°€)
   f. npx cap sync android (ì›¹ ìžì‚° ë™ê¸°í™”)
   g. gradlew assembleRelease/bundleRelease (APK/AAB ë¹Œë“œ)
5. ë¹Œë“œ íŒŒì¼ì„ android-builds í´ë”ì— ì €ìž¥
6. ë°ì´í„°ë² ì´ìŠ¤ì— ë¹Œë“œ ì •ë³´ ì—…ë°ì´íŠ¸
7. ì‚¬ìš©ìžê°€ ë‹¤ìš´ë¡œë“œ

6.2. ìˆ˜ë™ ë¹Œë“œ í…ŒìŠ¤íŠ¸
--------------
# EC2 ì„œë²„ì—ì„œ ìˆ˜ë™ìœ¼ë¡œ ë¹Œë“œ í…ŒìŠ¤íŠ¸

# 1. ë¹Œë“œ ë””ë ‰í† ë¦¬ë¡œ ì´ë™
cd ~/CodeLog/backend/android-builds/build-1  # ì˜ˆì‹œ

# 2. Capacitor ëª…ë ¹ ì‹¤í–‰
npx cap sync android

# 3. Android í”„ë¡œì íŠ¸ë¡œ ì´ë™
cd android

# 4. APK ë¹Œë“œ
./gradlew assembleRelease

# 5. ë¹Œë“œëœ APK í™•ì¸
ls -lh app/build/outputs/apk/release/

# 6. AAB ë¹Œë“œ (ì„ íƒ)
./gradlew bundleRelease

# 7. ë¹Œë“œëœ AAB í™•ì¸
ls -lh app/build/outputs/bundle/release/

6.3. ë¹Œë“œ ë¡œê·¸ í™•ì¸
--------------
# ì‹¤ì‹œê°„ ë°±ì—”ë“œ ë¡œê·¸ í™•ì¸
docker compose logs -f backend

# ë°ì´í„°ë² ì´ìŠ¤ì—ì„œ ë¹Œë“œ ë¡œê·¸ í™•ì¸
docker exec -it codelog-mysql mysql -u codelog -p
USE codelog;
SELECT id, build_status, build_log FROM builds ORDER BY created_at DESC LIMIT 5;

6.4. ë¹Œë“œ íŒŒì¼ ìœ„ì¹˜
--------------
ë¹Œë“œëœ íŒŒì¼ ìœ„ì¹˜:
~/CodeLog/backend/android-builds/[AppName]_[BuildId].apk
~/CodeLog/backend/android-builds/[AppName]_[BuildId].aab

ì˜ˆì‹œ:
~/CodeLog/backend/android-builds/MyApp_1.apk
~/CodeLog/backend/android-builds/MyApp_2.aab

================================================================================
7. ë¬¸ì œ í•´ê²°
================================================================================

7.1. "Gradle is not installed" ì—ëŸ¬
--------------
ë¬¸ì œ: Gradleì„ ì°¾ì„ ìˆ˜ ì—†ìŒ

í•´ê²°:
gradle --version
# ì„¤ì¹˜ë˜ì§€ ì•Šì•˜ë‹¤ë©´:
cd ~
wget https://services.gradle.org/distributions/gradle-8.4-bin.zip
sudo mkdir /opt/gradle
sudo unzip -d /opt/gradle gradle-8.4-bin.zip
export GRADLE_HOME=/opt/gradle/gradle-8.4
export PATH=$GRADLE_HOME/bin:$PATH

7.2. "ANDROID_HOME is not set" ì—ëŸ¬
--------------
ë¬¸ì œ: Android SDK ê²½ë¡œê°€ ì„¤ì •ë˜ì§€ ì•ŠìŒ

í•´ê²°:
export ANDROID_HOME=~/android-sdk
export ANDROID_SDK_ROOT=$ANDROID_HOME
export PATH=$ANDROID_HOME/cmdline-tools/latest/bin:$PATH
export PATH=$ANDROID_HOME/platform-tools:$PATH

# ì˜êµ¬ ì„¤ì •
echo 'export ANDROID_HOME=~/android-sdk' >> ~/.bashrc
echo 'export ANDROID_SDK_ROOT=$ANDROID_HOME' >> ~/.bashrc
source ~/.bashrc

7.3. "npm install failed" ì—ëŸ¬
--------------
ë¬¸ì œ: npm íŒ¨í‚¤ì§€ ì„¤ì¹˜ ì‹¤íŒ¨

í•´ê²°:
# ìºì‹œ ì‚­ì œ
npm cache clean --force

# ë ˆê±°ì‹œ peer deps ì‚¬ìš©
npm install --legacy-peer-deps

# Node.js ë²„ì „ í™•ì¸ (18+ í•„ìš”)
node --version

7.4. "gradlew: Permission denied" ì—ëŸ¬
--------------
ë¬¸ì œ: Gradle ì‹¤í–‰ ê¶Œí•œ ì—†ìŒ

í•´ê²°:
cd ~/CodeLog/backend/android-builds/build-X/android
chmod +x gradlew
./gradlew assembleRelease

7.5. "SDK location not found" ì—ëŸ¬
--------------
ë¬¸ì œ: Android SDKë¥¼ ì°¾ì„ ìˆ˜ ì—†ìŒ

í•´ê²°:
# local.properties íŒŒì¼ ìƒì„±
cd ~/CodeLog/backend/android-builds/build-X/android
echo "sdk.dir=$HOME/android-sdk" > local.properties

7.6. ë©”ëª¨ë¦¬ ë¶€ì¡± ì—ëŸ¬
--------------
ë¬¸ì œ: Gradle ë¹Œë“œ ì¤‘ ë©”ëª¨ë¦¬ ë¶€ì¡±

í•´ê²°:
# gradle.properties ìˆ˜ì •
cd ~/CodeLog/backend/android-builds/build-X
echo "org.gradle.jvmargs=-Xmx4096m -XX:MaxMetaspaceSize=512m" >> gradle.properties

# ë˜ëŠ” ì„œë²„ ìŠ¤ì™‘ ë©”ëª¨ë¦¬ ì¶”ê°€
sudo fallocate -l 4G /swapfile
sudo chmod 600 /swapfile
sudo mkswap /swapfile
sudo swapon /swapfile

7.7. ë¹Œë“œ ì‹œê°„ ì´ˆê³¼
--------------
ë¬¸ì œ: ë¹Œë“œê°€ 10ë¶„ ì´ìƒ ì†Œìš”

í•´ê²°:
# Gradle ë°ëª¬ í™œì„±í™”
cd ~/CodeLog/backend/android-builds/build-X/android
./gradlew --daemon

# ë³‘ë ¬ ë¹Œë“œ í™œì„±í™”
echo "org.gradle.parallel=true" >> gradle.properties

7.8. "capacitor not found" ì—ëŸ¬
--------------
ë¬¸ì œ: Capacitor CLIë¥¼ ì°¾ì„ ìˆ˜ ì—†ìŒ

í•´ê²°:
# Capacitor ìž¬ì„¤ì¹˜
cd ~/CodeLog/backend
npm install --save @capacitor/core @capacitor/cli @capacitor/android

# ë˜ëŠ” ì „ì—­ ì„¤ì¹˜
sudo npm install -g @capacitor/cli

================================================================================
8. ë¹ ë¥¸ ì°¸ì¡°
================================================================================

8.1. í™˜ê²½ ë³€ìˆ˜ ì²´í¬
--------------
# ëª¨ë“  í™˜ê²½ ë³€ìˆ˜ í™•ì¸
env | grep -E 'JAVA|ANDROID|GRADLE|NODE'

# ì„¤ì •ë˜ì–´ì•¼ í•˜ëŠ” ë³€ìˆ˜ë“¤:
JAVA_HOME=/usr/lib/jvm/java-17-openjdk-amd64
ANDROID_HOME=/home/ubuntu/android-sdk
ANDROID_SDK_ROOT=/home/ubuntu/android-sdk
GRADLE_HOME=/opt/gradle/gradle-8.4

8.2. í•„ìˆ˜ ëª…ë ¹ì–´
--------------
# Java í™•ì¸
java --version

# Android SDK í™•ì¸
sdkmanager --list_installed

# Gradle í™•ì¸
gradle --version

# Node.js í™•ì¸
node --version
npm --version

# Capacitor í™•ì¸
npx cap --version

8.3. ë¹Œë“œ ëª…ë ¹ì–´
--------------
# APK ë¹Œë“œ (ë””ë²„ê·¸)
./gradlew assembleDebug

# APK ë¹Œë“œ (ë¦´ë¦¬ì¦ˆ)
./gradlew assembleRelease

# AAB ë¹Œë“œ (ë¦´ë¦¬ì¦ˆ)
./gradlew bundleRelease

# ë¹Œë“œ ì •ë¦¬
./gradlew clean

8.4. Capacitor ëª…ë ¹ì–´
--------------
# Android í”Œëž«í¼ ì¶”ê°€
npx cap add android

# ì›¹ ìžì‚° ë™ê¸°í™”
npx cap sync android

# Android Studioì—ì„œ ì—´ê¸° (GUI í™˜ê²½)
npx cap open android

# í”Œëž«í¼ ì œê±°
npx cap rm android

8.5. ë””ë²„ê¹… ëª…ë ¹ì–´
--------------
# ë¹Œë“œ ë¡œê·¸ ìƒì„¸ ë³´ê¸°
./gradlew assembleRelease --info

# ë¹Œë“œ ë¡œê·¸ ë” ìƒì„¸í•˜ê²Œ
./gradlew assembleRelease --debug

# ë¹Œë“œ ìºì‹œ ì •ë¦¬
./gradlew clean

# Gradle ë°ëª¬ ì¤‘ì§€
./gradlew --stop

8.6. ì„œë²„ ìž¬ì‹œìž‘ í›„ ì²´í¬ë¦¬ìŠ¤íŠ¸
--------------
â–¡ í™˜ê²½ ë³€ìˆ˜ ì„¤ì • í™•ì¸ (source ~/.bashrc)
â–¡ Docker ì»¨í…Œì´ë„ˆ ì‹¤í–‰ í™•ì¸ (docker compose ps)
â–¡ ë¹Œë“œ ë””ë ‰í† ë¦¬ ê¶Œí•œ í™•ì¸ (ls -la ~/CodeLog/backend/android-builds)
â–¡ Node.js ì‹¤í–‰ í™•ì¸ (node --version)
â–¡ Gradle ì‹¤í–‰ í™•ì¸ (gradle --version)
â–¡ Android SDK í™•ì¸ (sdkmanager --list_installed)

================================================================================
9. ì„±ëŠ¥ ìµœì í™”
================================================================================

9.1. Gradle ë¹Œë“œ ìµœì í™”
--------------
# ~/.gradle/gradle.properties ìƒì„± (ì „ì—­ ì„¤ì •)
mkdir -p ~/.gradle
cat > ~/.gradle/gradle.properties << EOF
org.gradle.daemon=true
org.gradle.parallel=true
org.gradle.configureondemand=true
org.gradle.caching=true
org.gradle.jvmargs=-Xmx4096m -XX:MaxMetaspaceSize=512m -XX:+HeapDumpOnOutOfMemoryError
EOF

9.2. Docker ë¦¬ì†ŒìŠ¤ ì œí•œ ì¡°ì •
--------------
# docker-compose.yml ìˆ˜ì •
# backend ì„œë¹„ìŠ¤ì— ë¦¬ì†ŒìŠ¤ ì¶”ê°€
services:
  backend:
    ...
    deploy:
      resources:
        limits:
          cpus: '2'
          memory: 4G
        reservations:
          memory: 2G

9.3. ë¹Œë“œ ìºì‹œ í™œìš©
--------------
# Gradle ë¹Œë“œ ìºì‹œ í™œì„±í™” (ì´ë¯¸ ìœ„ ì„¤ì •ì— í¬í•¨)
# ì²« ë¹Œë“œëŠ” ëŠë¦¬ì§€ë§Œ, ì´í›„ ë¹Œë“œëŠ” ë¹¨ë¼ì§

# Capacitor ìºì‹œ ì •ë¦¬ (ë¬¸ì œ ë°œìƒ ì‹œ)
cd ~/CodeLog/backend/android-builds/build-X
rm -rf node_modules
npm install --legacy-peer-deps

================================================================================
10. ì„œëª…ëœ APK ìƒì„± (í”„ë¡œë•ì…˜)
================================================================================

10.1. í‚¤ìŠ¤í† ì–´ ì„¤ì •
--------------
# ì´ë¯¸ ìƒì„±í•œ í‚¤ìŠ¤í† ì–´ ì‚¬ìš©
KEYSTORE_PATH=~/CodeLog/release-key.keystore
KEYSTORE_PASSWORD=your_password
KEY_ALIAS=codelog
KEY_PASSWORD=your_password

10.2. build.gradle ìˆ˜ì •
--------------
# android/app/build.gradle íŒŒì¼ì— ì„œëª… ì„¤ì • ì¶”ê°€

android {
    ...
    signingConfigs {
        release {
            storeFile file("$KEYSTORE_PATH")
            storePassword "$KEYSTORE_PASSWORD"
            keyAlias "$KEY_ALIAS"
            keyPassword "$KEY_PASSWORD"
        }
    }
    buildTypes {
        release {
            signingConfig signingConfigs.release
            ...
        }
    }
}

10.3. ì„œëª…ëœ ë¹Œë“œ
--------------
./gradlew assembleRelease

# ì„œëª… í™•ì¸
jarsigner -verify -verbose -certs app/build/outputs/apk/release/app-release.apk

================================================================================
11. CI/CD í†µí•© (ì„ íƒì‚¬í•­)
================================================================================

11.1. GitHub Actions ì˜ˆì‹œ
--------------
# .github/workflows/android-build.yml

name: Android Build

on:
  push:
    branches: [ main ]

jobs:
  build:
    runs-on: ubuntu-latest
    steps:
      - uses: actions/checkout@v3

      - name: Set up JDK 17
        uses: actions/setup-java@v3
        with:
          java-version: '17'
          distribution: 'adopt'

      - name: Setup Android SDK
        uses: android-actions/setup-android@v2

      - name: Build APK
        run: |
          cd backend/android-builds/build-X/android
          ./gradlew assembleRelease

================================================================================
12. ì¶”ê°€ ë¦¬ì†ŒìŠ¤
================================================================================

ê³µì‹ ë¬¸ì„œ:
- Capacitor: https://capacitorjs.com/docs
- Android Developers: https://developer.android.com
- Gradle: https://gradle.org/docs/

ì»¤ë®¤ë‹ˆí‹°:
- Capacitor Community: https://github.com/capacitor-community
- Stack Overflow: https://stackoverflow.com/questions/tagged/capacitor

================================================================================
ìš”ì•½
================================================================================

âœ… Capacitor ê¸°ë°˜ ë¹Œë“œ ì‹œìŠ¤í…œ êµ¬ì¶• ì™„ë£Œ
âœ… Android Studio ê³µì‹ ë°©ë²• ì‚¬ìš©
âœ… ì•ˆì •ì ì´ê³  ìœ ì§€ë³´ìˆ˜ ê°€ëŠ¥í•œ ë¹Œë“œ í”„ë¡œì„¸ìŠ¤
âœ… í”„ë¡ íŠ¸ì—”ë“œ ë‹¤ìš´ë¡œë“œ ì—ëŸ¬ ìˆ˜ì •

ë‹¤ìŒ ë‹¨ê³„:
1. EC2 ì„œë²„ì— í•„ìˆ˜ ì†Œí”„íŠ¸ì›¨ì–´ ì„¤ì¹˜ (ì„¹ì…˜ 3)
2. Android SDK ì„¤ì • (ì„¹ì…˜ 5)
3. ë¹Œë“œ í…ŒìŠ¤íŠ¸ (ì„¹ì…˜ 6.2)
4. í”„ë¡œë•ì…˜ ë°°í¬

================================================================================
ë§ˆì§€ë§‰ ì—…ë°ì´íŠ¸: 2025-10-13
ìž‘ì„±ìž: Claude Code
ë²„ì „: 2.0 (Capacitor)
================================================================================
