================================================================================
CodeLog - ë¹ ë¥¸ ì„¤ì • ëª…ë ¹ì–´ (EC2 Android ë¹Œë“œ í™˜ê²½)
================================================================================

ğŸ“… ì‘ì„±ì¼: 2025-10-15
ğŸ¯ ëª©ì : Gradle ì—ëŸ¬ í•´ê²° & ì‹¤ì œ APK ë¹Œë“œ

================================================================================
1ë‹¨ê³„: ë¡œì»¬ì—ì„œ Push (Windows)
================================================================================

cd D:\CodeLog
git add .
git commit -m "Fix: Add Android build environment setup"
git push origin main


================================================================================
2ë‹¨ê³„: EC2 ì ‘ì†
================================================================================

ssh -i "D:\CodeLog\codelog-keypair.pem" ubuntu@YOUR_EC2_IP

âš ï¸ YOUR_EC2_IPë¥¼ ì‹¤ì œ IPë¡œ ë³€ê²½!


================================================================================
3ë‹¨ê³„: EC2ì—ì„œ ì‹¤í–‰ (ì¤‘ìš”!)
================================================================================

# ìµœì‹  ì½”ë“œ ê°€ì ¸ì˜¤ê¸°
cd ~/CodeLog
git pull origin main

# í™˜ê²½ ì„¤ì¹˜ ìŠ¤í¬ë¦½íŠ¸ ì‹¤í–‰ (10-15ë¶„ ì†Œìš”)
chmod +x setup-android-build-environment.sh
./setup-android-build-environment.sh

# í™˜ê²½ ë³€ìˆ˜ ì ìš©
source ~/.bashrc

# í™•ì¸
java --version
gradle --version
echo $ANDROID_HOME

# Docker ì¬ë¹Œë“œ
docker compose down --rmi all
docker compose build --no-cache
docker compose up -d

# ë¡œê·¸ í™•ì¸
docker compose logs -f backend


================================================================================
4ë‹¨ê³„: í…ŒìŠ¤íŠ¸
================================================================================

1. ë¸Œë¼ìš°ì €: http://YOUR_EC2_IP
2. ë¡œê·¸ì¸ í›„ í”„ë¡œì íŠ¸ ìƒì„±
3. ë¹Œë“œ ì‹œì‘
4. ë¡œê·¸ì—ì„œ í™•ì¸:
   âœ… "Capacitor-based Android build"
   âŒ "Creating demo APK" (ì´ ë©”ì‹œì§€ê°€ ì—†ì–´ì•¼ í•¨!)


================================================================================
ì˜ˆìƒ ì‹œê°„
================================================================================

- í™˜ê²½ ì„¤ì¹˜: 10-15ë¶„
- Docker ì¬ë¹Œë“œ: 5-10ë¶„
- ì²« APK ë¹Œë“œ: 10-15ë¶„
- ì´í›„ ë¹Œë“œ: 3-5ë¶„


================================================================================
ë¬¸ì œ í•´ê²°
================================================================================

# ìŠ¤í¬ë¦½íŠ¸ ê¶Œí•œ ì—ëŸ¬
chmod +x setup-android-build-environment.sh

# Docker ì™„ì „ ì¬ì„¤ì •
docker compose down -v --rmi all
docker system prune -a -f
docker compose build --no-cache
docker compose up -d

# í™˜ê²½ ë³€ìˆ˜ í™•ì¸
env | grep -E 'JAVA|ANDROID|GRADLE'

# ë©”ëª¨ë¦¬ ë¶€ì¡± (ìŠ¤ì™‘ ì¶”ê°€)
sudo fallocate -l 4G /swapfile
sudo chmod 600 /swapfile
sudo mkswap /swapfile
sudo swapon /swapfile


================================================================================
ì „ì²´ ì¬ì„¤ì • (í•œ ë²ˆì— ì‹¤í–‰)
================================================================================

cd ~/CodeLog && \
git pull origin main && \
chmod +x setup-android-build-environment.sh && \
./setup-android-build-environment.sh && \
source ~/.bashrc && \
docker compose down --rmi all && \
docker compose build --no-cache && \
docker compose up -d && \
docker compose logs -f backend


================================================================================
ì„±ê³µ í™•ì¸
================================================================================

âœ… java --version â†’ openjdk 17.x
âœ… gradle --version â†’ Gradle 8.x
âœ… docker compose ps â†’ 3 containers running
âœ… ë¹Œë“œ ë¡œê·¸ì— "Capacitor-based" ìˆìŒ
âœ… ë¹Œë“œ ë¡œê·¸ì— "demo APK" ì—†ìŒ
âœ… APK ë‹¤ìš´ë¡œë“œ ê°€ëŠ¥
âœ… APKê°€ ì‹¤ì œë¡œ ì‘ë™í•¨


================================================================================
ë„ì›€ë§
================================================================================

ìƒì„¸ ê°€ì´ë“œ: EC2_ë¹Œë“œ_í™˜ê²½_ì„¤ì •_ì™„ë²½_ê°€ì´ë“œ.md
ì„¤ì¹˜ ìŠ¤í¬ë¦½íŠ¸: setup-android-build-environment.sh
ê³µì‹ ê°€ì´ë“œ: Android_ë¹Œë“œ_ì„¤ì •_ê°€ì´ë“œ.txt


================================================================================
